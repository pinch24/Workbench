[RESTful Web APIs by Leonard Richardson, Mike Amundsen, Sam Ruby]()

### 추천사 - Sam Ruby

 UI Design에서 단계적 공개(Progressive Disclosure)란 바로 그 시점에 필요한 정보만 사용자에게 표시해야 한다는 개념이다.


### 머리말

 오늘날 대다수 API는 큰 문제를 가지고 있다. 한 번 배포되면 바꿀 수가 없다는 것이다. 이름난 API는 바꾸는 게 너무 어렵기 때문에, 주변 산업 자체가 바뀌더라도 배포된 그 상태로 수년간 유지된다.
 하지만 RESTful 아키텍처는 변화를 다룰 수 있도록 설계되었다. 월드 와이드 웹 세계에서는 수백만 개의 사이트가 수천 개의 다른 서버 구현 위에서 돌아가고 있으며 정기적으로 디자인이 갱신된다. 또 수십억 명의 사용자가 수십 개의 하드웨어 플랫폼 위에 올라간 수백 개의 다른 클라이언트 구현 위에서 웹 사이트에 접속하고 있다.

 항상 간단한 시스템이 변경이 쉽다. 작은 스케일에서, 버튼 하나 누르면 끝나는 솔루션보다는 RESTful 시스템이 초기 디자인 비용이 더 많이 든다. 그렇지만 API가 더 커지고 바뀌어감에 따라 REST 같은 방식으로 변화에 적응해야 할 필요성을 느낄 것이다.

- 상업적으로 성공한 API는 수년간 유효할 것이다. 어떤 API는 수백 또는 수천명의 사용자가 있다. 문제의 도메인이 가끔 바뀌는 수준이라 할지라도 고객들에게 미치는 영향의 총합은 엄청나게 크다.
- 어떤 API는 새 데이터 요소와 비즈니스 규칙이 계속 추가됨에 따라 항상 변화한다.
- 어떤 API는 각 고객이 필요에 따라 작업 흐름을 변경할 수 있다. API 자체는 결코 변화하지 않지만 각 고객마다 API를 사용하는 경험은 달라질 수 있다.
- 보통 API 클라이언트를 작성하는 사람들은 서버를 작성하는 사람과 다른 팀에서 일한다. 모든 오픈된 API는 이 카테고리에 속한다. 어떤 종류의 클라이언트가 있는지 잘 모른다면, 변화를 가하기 전에 매우 주의를 기해야만 한다. 아니면 모든 클라이언트를 망가뜨리지 않고 변화할 수 있는 디자인이 필요하다.

 API에 기존 디자인을 베끼면 아마 과걱의 실수를 다시 반복하게 될 것이다. 불행히도, 대부분의 개선책은 표면 아래의 실험과 매우 느린 속도와 표준화 절차를 통해 이루어진다.


### 노력의 반복

 ‘Twitter API’, ‘Facebook API’, ‘Google+ API’ 이 세 API는 비슷한 일을 수행한다. 모두 사용자 계정 정보를 제공하고 계정에 텍스트를 올리도록 하는 기능을 제공한다. 하지만 각 API는 완전히 다른 디자인을 가지고 있다. 한 API를 배운다 해서 다른 API를 익히는 데 별다른 도움이 되지 않는다.

 다들 다른 누군가가 결코 비슷한 아이디어를 가진 적이 없었던 것처럼 API를 디자인한다. 이게 사실 이 API들을 사용할 사람을 얻고자 하는 목표에 방해가 된다.

 분명한 해결책은 마이크로 블로깅 API 표준을 만드는 것이다. 하지만 이미 APP(Atom Publishing Protocol)라는 잘 동작하는 표준도 있다. 2005년에 공개되었는데, 거의 아무도 사용하지 않고 있다. 사업 측면에서 볼 땐 말이 안 되지만 API를 만드는 모두가 처음부터 자신만의 설계를 하길 원하는 이유가 있다.

 나 혼자 힘으로 이런 노력의 낭비를 멈출 수 있다고 생각하지 않는다. 하지만 문제를 이해할 수 있는 단위로 쪼개고, 새 API에서 이미 만들어진 작업을 재사용할 수 있는 방법을 제공하고자 한다.


### 하이퍼미디어는 어렵다

 우리는 하이퍼미디어를 웹이라는 콘텍스트에서 이해한다. 사실 하이퍼미디어 웹은 링크를 멋지게 표현한 것에 지나지 않는다. 웹 페이지는 서로 링크되어 있고, 그 결과 하이퍼미디어로 돌아가는 월드 와이드 웹이 탄생한다. 그러나 웹 API에서 하이퍼미디어를 다룰 때는 뭔가 정신적인 벽이 존재하는 것 같이 느껴진다. 하이퍼미디어야말로 웹 API가 변화를 잘 수용할 수 있도록 해주는 기능이기에 매우 심각한 문제라 할 수 있다.


### 주의사항

 클라이언트와 서버는 Node.js 라이브러리를 사용하는 자바스크립트로 작성했다.
 Node를 사용한 이유는 클라이언트와 서버에 동일한 프로그래밍 언어를 사용할 수 있기 때문이다. 클라이언트-서버 트랜잭션을 이해하기 위해 프로그래밍 언어를 바꿔야 하는 수고를 들이지 않아도 된다.


